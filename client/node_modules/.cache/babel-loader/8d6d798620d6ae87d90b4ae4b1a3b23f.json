{"ast":null,"code":"import _slicedToArray from \"/Grawdanin/MERN/audio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Grawdanin/MERN/audio/src/components/PlayPanel/PlayPanel.js\";\nimport React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport PlayPanelVolume from './PlayPanelVolume';\nimport PlayPanelProgressBar from './PlayPanelProgressBar';\nimport { normalizeAudioCurentTime } from '../../helpers/helpers';\nimport './playerPanel.scss'; // import m from '../../assets/audio/_Ð›ÑƒÑ‡ÑˆÐ°Ñ ÐœÑƒÐ·Ñ‹ÐºÐ° 2019 ðŸŒ´ Ð—Ð°Ñ€ÑƒÐ±ÐµÐ¶Ð½Ñ‹Ðµ Ð¿ÐµÑÐ½Ð¸ Ð¥Ð¸Ñ‚Ñ‹ ðŸŒ´ ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ ÐŸÐµÑÐ½Ð¸ Ð¡Ð»ÑƒÑˆÐ°Ñ‚ÑŒ Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾ 2019_.mp3';\n\nconst PlayPanel = () => {\n  let audioPlayer = useRef();\n  const defaultValue = 60;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isPlaying = _useState2[0],\n        setIsPlaying = _useState2[1];\n\n  const _useState3 = useState(defaultValue),\n        _useState4 = _slicedToArray(_useState3, 2),\n        volume = _useState4[0],\n        setVolume = _useState4[1];\n\n  const _useState5 = useState('0'),\n        _useState6 = _slicedToArray(_useState5, 2),\n        progressBarWidth = _useState6[0],\n        setProgressBarWidth = _useState6[1];\n\n  const _useState7 = useState(0),\n        _useState8 = _slicedToArray(_useState7, 2),\n        currentTrackDuration = _useState8[0],\n        setCurrentTrackDuration = _useState8[1];\n\n  const _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        currentTrackMoment = _useState10[0],\n        setCurrentTrackMoment = _useState10[1];\n\n  const handlePlay = () => {\n    const audio = audioPlayer.current;\n\n    if (audio.paused || audio.ended) {\n      audio.play();\n      setIsPlaying(true);\n    } else {\n      audio.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const changeVolume = value => {\n    setVolume(value);\n    audioPlayer.current.volume = value / 100;\n  };\n\n  const handleMetadata = () => {\n    const audio = audioPlayer.current;\n    console.log(audioPlayer.current.currentTime);\n    console.log(audioPlayer.current.duration);\n    const duration = Math.floor(audio.duration);\n    setCurrentTrackDuration(normalizeAudioCurentTime(duration));\n  };\n\n  const setAudioDuration = diration => {\n    console.log(diration);\n    audioPlayer.current.currentTime = diration;\n  };\n\n  const handleTimeupdate = () => {\n    setCurrentTrackMoment(Math.floor(audioPlayer.current.currentTime));\n    setProgressBarWidth(audioPlayer.current.currentTime / audioPlayer.current.duration * 100 + '%');\n\n    if (audioPlayer.current.currentTime === audioPlayer.current.duration) {\n      alert('end');\n    }\n  };\n\n  if (audioPlayer.current) {\n    console.log(audioPlayer.current.currentTime);\n    console.log(audioPlayer.current.duration);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"ms_player_wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ms_player_close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-angle-up\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"player_mid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"audio-player\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-jplayer\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"audio\", {\n    ref: audioPlayer,\n    preload: \"metadata\",\n    onLoadedMetadata: handleMetadata,\n    onTimeUpdate: () => handleTimeupdate(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"source\", {\n    src: \"https://res.cloudinary.com/g-r-a-w-d-a-n-i-n/video/upload/v1561499590/artur_pirozhkov_-_zacepila__zf.fm.mp3\",\n    src: \"https://res.cloudinary.com/g-r-a-w-d-a-n-i-n/video/upload/v1561499590/artur_pirozhkov_-_zacepila__zf.fm.mp3\",\n    type: \"audio/ogg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), \"Ooops, your browser is sooo old.\")), audioPlayer.current && React.createElement(\"div\", {\n    className: \"\".concat(isPlaying ? 'jp-state-playing' : '', \" jp-audio\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(PlayPanelProgressBar, {\n    audio: audioPlayer.current,\n    setAudioDuration: setAudioDuration,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"jp-type-playlist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-gui jp-interface flex-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-controls flex-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"jp-previous\",\n    tabIndex: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ms_play_control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"jp-play\",\n    onClick: handlePlay,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ms_play_control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"jp-next\",\n    tabIndex: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ms_play_control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"jp-progress-container flex-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-time-holder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"jp-current-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, normalizeAudioCurentTime(currentTrackMoment)), React.createElement(\"span\", {\n    className: \"jp-duration\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, currentTrackDuration || '0 : 00')), React.createElement(\"div\", {\n    className: \"jp-progress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-seek-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jp-play-bar\",\n    style: {\n      width: progressBarWidth\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bullet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"jp-toggles flex-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"jp-shuffle\",\n    tabIndex: \"0\",\n    title: \"Shuffle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ms_play_control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"jp-repeat\",\n    tabIndex: \"0\",\n    title: \"Repeat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ms_play_control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }))), React.createElement(PlayPanelVolume, {\n    volume: volume,\n    defaultValue: defaultValue,\n    changeVolume: changeVolume,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })))))));\n};\n\nPlayPanel.propTypes = {};\nexport default PlayPanel;","map":{"version":3,"sources":["/Grawdanin/MERN/audio/src/components/PlayPanel/PlayPanel.js"],"names":["React","useRef","useState","PropTypes","PlayPanelVolume","PlayPanelProgressBar","normalizeAudioCurentTime","PlayPanel","audioPlayer","defaultValue","isPlaying","setIsPlaying","volume","setVolume","progressBarWidth","setProgressBarWidth","currentTrackDuration","setCurrentTrackDuration","currentTrackMoment","setCurrentTrackMoment","handlePlay","audio","current","paused","ended","play","pause","changeVolume","value","handleMetadata","console","log","currentTime","duration","Math","floor","setAudioDuration","diration","handleTimeupdate","alert","display","width","propTypes"],"mappings":"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","sourcesContent":["import React, {useRef, useState} from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlayPanelVolume from './PlayPanelVolume'\nimport PlayPanelProgressBar from './PlayPanelProgressBar'\nimport {normalizeAudioCurentTime} from '../../helpers/helpers';\nimport './playerPanel.scss';\n// import m from '../../assets/audio/_Ð›ÑƒÑ‡ÑˆÐ°Ñ ÐœÑƒÐ·Ñ‹ÐºÐ° 2019 ðŸŒ´ Ð—Ð°Ñ€ÑƒÐ±ÐµÐ¶Ð½Ñ‹Ðµ Ð¿ÐµÑÐ½Ð¸ Ð¥Ð¸Ñ‚Ñ‹ ðŸŒ´ ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ ÐŸÐµÑÐ½Ð¸ Ð¡Ð»ÑƒÑˆÐ°Ñ‚ÑŒ Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾ 2019_.mp3';\n\n\n\n\n\nconst PlayPanel = () => {\n\n    let audioPlayer = useRef();\n    const defaultValue = 60;\n\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [volume, setVolume] = useState(defaultValue);\n    const [progressBarWidth, setProgressBarWidth] = useState('0');\n    const [currentTrackDuration, setCurrentTrackDuration] = useState(0);\n    const [currentTrackMoment, setCurrentTrackMoment] = useState(0);\n\n\n\n    const handlePlay = () => {\n\n        const audio = audioPlayer.current;\n\n        if (audio.paused || audio.ended) {\n            audio.play();\n            setIsPlaying(true);\n        } else {\n            audio.pause();\n            setIsPlaying(false);\n        }\n    };\n\n\n    const changeVolume = value => {\n        setVolume(value);\n        audioPlayer.current.volume = value / 100\n    };\n\n    const handleMetadata = () => {\n        const audio = audioPlayer.current;\n\n        console.log(audioPlayer.current.currentTime);\n        console.log(audioPlayer.current.duration);\n\n\n        const duration = Math.floor(audio.duration);\n        setCurrentTrackDuration(normalizeAudioCurentTime(duration));\n    };\n\n\n    const setAudioDuration = diration => {\n        console.log(diration);\n        audioPlayer.current.currentTime = diration;\n    };\n\n\n    const handleTimeupdate = () => {\n        setCurrentTrackMoment(Math.floor(audioPlayer.current.currentTime));\n        setProgressBarWidth(\n            (audioPlayer.current.currentTime / audioPlayer.current.duration) * 100 + '%'\n        );\n        if (audioPlayer.current.currentTime === audioPlayer.current.duration) {\n            alert('end');\n        }\n    };\n\n\n    if (audioPlayer.current) {\n        console.log(audioPlayer.current.currentTime);\n        console.log(audioPlayer.current.duration);\n    }\n\n    return (\n\n        <div className=\"ms_player_wrapper\">\n            <div className=\"ms_player_close\">\n                <i className=\"fa fa-angle-up\" aria-hidden=\"true\"/>\n            </div>\n            <div className=\"player_mid\">\n                <div className=\"audio-player\">\n\n                    <div className=\"jp-jplayer\" style={{display: 'none'}}>\n\n                        <audio\n                            ref={audioPlayer}\n                            preload=\"metadata\"\n                            onLoadedMetadata={handleMetadata}\n                            onTimeUpdate={() => handleTimeupdate()}\n                        >\n                            <source\n                                src='https://res.cloudinary.com/g-r-a-w-d-a-n-i-n/video/upload/v1561499590/artur_pirozhkov_-_zacepila__zf.fm.mp3'\n                                src='https://res.cloudinary.com/g-r-a-w-d-a-n-i-n/video/upload/v1561499590/artur_pirozhkov_-_zacepila__zf.fm.mp3'\n                                type=\"audio/ogg\"\n                            />\n                            Ooops, your browser is sooo old.\n                        </audio>\n                    </div>\n\n                    {audioPlayer.current && (\n                        <div className={`${isPlaying ? 'jp-state-playing' : ''} jp-audio`}>\n\n\n                            <PlayPanelProgressBar\n                                audio={audioPlayer.current}\n                                setAudioDuration={setAudioDuration}\n                            />\n\n                            <div className=\"jp-type-playlist\">\n                                <div className=\"jp-gui jp-interface flex-wrap\">\n                                    <div className=\"jp-controls flex-item\">\n                                        <button className=\"jp-previous\" tabIndex=\"0\">\n                                            <i className=\"ms_play_control\"/>\n                                        </button>\n\n                                        <button\n                                            className=\"jp-play\"\n                                            onClick={handlePlay}\n                                        >\n                                            <i className=\"ms_play_control\"/>\n                                        </button>\n\n                                        <button className=\"jp-next\" tabIndex=\"0\">\n                                            <i className=\"ms_play_control\"/>\n                                        </button>\n                                    </div>\n                                    <div className=\"jp-progress-container flex-item\">\n                                        <div className=\"jp-time-holder\">\n                                        <span className=\"jp-current-time\">\n                                            {normalizeAudioCurentTime(currentTrackMoment)}\n                                        </span>\n                                            <span className=\"jp-duration\">\n                                            {currentTrackDuration || '0 : 00'}\n                                        </span>\n                                        </div>\n\n\n                                        <div className=\"jp-progress\">\n                                            <div className=\"jp-seek-bar\">\n                                                <div className=\"jp-play-bar\" style={{width: progressBarWidth}}>\n                                                    <div className=\"bullet\">\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n\n                                    </div>\n\n                                    <div className=\"jp-toggles flex-item\">\n                                        <button className=\"jp-shuffle\" tabIndex=\"0\" title=\"Shuffle\">\n                                            <i className=\"ms_play_control\"/></button>\n                                        <button className=\"jp-repeat\" tabIndex=\"0\" title=\"Repeat\"><i\n                                            className=\"ms_play_control\"/></button>\n                                    </div>\n\n                                    <PlayPanelVolume\n                                        volume={volume}\n                                        defaultValue={defaultValue}\n                                        changeVolume={changeVolume}/>\n\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                </div>\n            </div>\n\n        </div>\n);\n};\n\nPlayPanel.propTypes = {\n\n};\n\nexport default PlayPanel;\n\n\n    "]},"metadata":{},"sourceType":"module"}